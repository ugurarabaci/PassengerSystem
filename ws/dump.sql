-- H2 2.1.212;
;             
CREATE USER IF NOT EXISTS "SA" SALT '3fdb8ea6f5890e83' HASH 'a53ca14f96de477804eec20fb632fc65b5829040a825966bdcdc44256813b644' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."FLIGHT"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "ARRIVAL" CHARACTER VARYING(255),
    "DEPARTURE" CHARACTER VARYING(255)
);           
ALTER TABLE "PUBLIC"."FLIGHT" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_7" PRIMARY KEY("ID");       
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.FLIGHT;  
INSERT INTO "PUBLIC"."FLIGHT" VALUES
(1, 'Istanbul', 'Ankara'),
(2, 'Istanbul', 'Bangkok'),
(3, 'London', 'Istanbul'),
(4, 'Antalya', 'Ankara');          
CREATE CACHED TABLE "PUBLIC"."PASSENGER"(
    "ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 12) NOT NULL,
    "AGE" INTEGER,
    "EMAIL" CHARACTER VARYING(255),
    "FIRSTNAME" CHARACTER VARYING(255),
    "LASTNAME" CHARACTER VARYING(255),
    "PHONE" CHARACTER VARYING(255)
);        
ALTER TABLE "PUBLIC"."PASSENGER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_6" PRIMARY KEY("ID");    
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.PASSENGER;               
INSERT INTO "PUBLIC"."PASSENGER" VALUES
(1, 24, 'ugurarabaci0209@gmail.com', U&'U\011fur', U&'Arabac\0131', '905322641508'),
(2, 2, 'riko@gmail.com', 'riko', 'abidin', '05305555555'),
(7, 2, 'riko@gmail.com', 'riko', 'abidin', '05305555555'),
(11, 2, 'riko@gmail.com', 'riko', 'abidin', '905322641599');           
CREATE CACHED TABLE "PUBLIC"."TICKET"(
    "TICKET_ID" INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "FLIGHT_ID" INTEGER,
    "PASSENGER_ID" INTEGER
);            
ALTER TABLE "PUBLIC"."TICKET" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("TICKET_ID");
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.TICKET;  
INSERT INTO "PUBLIC"."TICKET" VALUES
(1, 1, 1);              
ALTER TABLE "PUBLIC"."TICKET" ADD CONSTRAINT "PUBLIC"."FK3Y0NR3G8PK6YGC173MJAAUMGH" FOREIGN KEY("PASSENGER_ID") REFERENCES "PUBLIC"."PASSENGER"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."TICKET" ADD CONSTRAINT "PUBLIC"."FKFJU27CBCBL1W16QEORA1R636Q" FOREIGN KEY("FLIGHT_ID") REFERENCES "PUBLIC"."FLIGHT"("ID") NOCHECK;      
